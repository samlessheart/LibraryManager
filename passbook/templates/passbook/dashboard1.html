{%extends "books/base.html"%}

{%block content%}
    <div class="row">
      
        <div class="">
          <br>
          <br>
            <ul>
                <li class="">
                    <a class="" href="{%url 'signup'%}" >Add a member</a>
                </li>  
                <br>  
                <br>
                <li>
                  <a class="" href="{%url 'add_book'%}" >Add a Book</a>
              </li>  
              <br>
              <br> 
              <li>
                <a class="" href="{%url 'add_author'%}" >Add a Author</a>
            </li> 
            <br>
            <br>
            <li>
              <a class="" href="{%url 'all_members'%}" >All Members</a>
          </li> 

            </ul>
        </div>
        <div class="container"> 
          <br>           
            <table class="table table-striped table-sm table-bordered border-primary">
                <thead>
                  <tr>
                    <th scope="col">id No. </th>
                    <th scope="col">member</th>
                    <th scope="col">book</th>
                    <th scope="col">borrow_date</th>
                    <th scope="col">due_date</th>
                    <th scope="col">return_date</th>
                    <th scope="col">due_charges</th>
                    <th scope="col">Book Returned</th>
                  </tr>
                </thead>
                <tbody>
                    {%for obj in page_obj%}
                  <tr>
                    <th scope="row">{{obj.id}}</th>
                    <td>{{obj.member}}</td>
                    <td>{{obj.book}}</td>
                    <td>{{obj.borrow_date}}</td>
                    <td>{{obj.due_date}}</td>
                    <td>{{obj.return_date}}</td>
                    <td>{{obj.due_charges}}</td> 
                    {%if obj.complete %}
                    <td><button type= "button" disabled>
                      &#10004</button></td> 
                     {%else%}                                 
                    <td><button type= "button" class="btn">
                      <a href="{%url 'book_return' obj.id%}">&#10004</a></button></td> 
                      {%endif%}                  
                  </tr>
                 {%endfor%}
                </tbody>
              </table>
        </div>
    </div>
    <div class="pagination justify-content-end px-4">
      <span class="step-links px-4">
          {% if page_obj.has_previous %}
          <a class="px-2" href="?page=1">&laquo; First</a>
          <a class="px-2" href="?page={{ page_obj.previous_page_number }}">Previous</a>
          {% endif %}
  
          <span class="current">
              Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
          </span>
  
          {% if page_obj.has_next %}
          <a class="px-2" href="?page={{ page_obj.next_page_number }}">Next</a>
          <a class="px-2" href="?page={{ page_obj.paginator.num_pages }}">Last &raquo;</a>
          {% endif %}
      </span>
  </div>
{%endblock content%}

